<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    	<record id="view_move_analytic_distribution_inherit_form" model="ir.ui.view">
            <field name="name">account.move.form</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">

                <div class="oe_button_box" position="inside">

                    <field name="distribution_move_id" invisible="1"/>

                    <button
                        name="open_distribution_move_view"
                        class="oe_stat_button"
                        icon="fa-book"
                        type="object"
                        invisible="distribution_move_id in ['',False,None]"
                        string="Asiento Destino"
                    />
                </div>

                <xpath expr="//header" position="inside">

                    <field name="has_aml_distribution" invisible="1"/>
                    <field name="has_distribution" invisible="1"/>
                    <field name="distribution_move_id" invisible="1"/>


                    <button name="action_generated_destinos" string="Generar Destinos" type="object" icon="fa-refresh" invisible="has_aml_distribution != True or distribution_move_id or state != 'posted'"/>

                    <button name="deleted_am_distribution" string="Eliminar Destinos" type="object" icon="fa-trash" invisible="not (distribution_move_id) or state != 'posted'"/>


                </xpath>

            </field>
        </record>
    </data>
</odoo>